/**
 * Бюджет по активам Газпромнефть: только регионы, в которых есть активы.
 * Ключи — названия регионов из GeoJSON (RussiaRegions).
 */

/** Регионы, в которых есть активы Газпромнефть (ДО и месторождения) */
export const ASSET_REGION_NAMES = [
  'Оренбургская область',
  'Тюменская область',
  'Ханты-Мансийский автономный округ',
  'Ямало-Ненецкий автономный округ',
  'Томская область',
  'Архангельская область',
  'Мурманская область',
  'Ненецкий автономный округ',
  'Республика Саха (Якутия)',
  'Ленинградская область',
  'Московская область',
  'Москва',
]

/** Значение бюджета по активам: от недостатка (-1) до избытка (+1). Только для регионов с активами. */
export const BUDGET_BY_ASSET = {
  'Оренбургская область': -0.2,
  'Тюменская область': 0.6,
  'Ханты-Мансийский автономный округ': 0.4,
  'Ямало-Ненецкий автономный округ': 0.7,
  'Томская область': 0.3,
  'Архангельская область': -0.1,
  'Мурманская область': 0.2,
  'Ненецкий автономный округ': 0.3,
  'Республика Саха (Якутия)': -0.3,
  'Ленинградская область': 0.5,
  'Московская область': 0.8,
  'Москва': 0.8,
}

/** Цвет по нормированному значению бюджета: красный = недостаток, зелёный = избыток */
export function budgetToColor(t) {
  const v = Math.max(-1, Math.min(1, t))
  const s = (v + 1) / 2
  const r = Math.round(199 + (46 - 199) * s)
  const g = Math.round(107 + (157 - 107) * s)
  const b = Math.round(90 + (122 - 90) * s)
  return `rgb(${r}, ${g}, ${b})`
}

/** Возвращает ключ региона для бюджета, если регион с активами ГПН */
export function getAssetRegionKey(regionName) {
  if (!regionName) return null
  return ASSET_REGION_NAMES.find(
    (r) => r === regionName || regionName.includes(r) || r.includes(regionName)
  ) || null
}
